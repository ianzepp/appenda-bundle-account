<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">

	<!-- Register the stream -->

	<bean id="LoggingStream" class="Appenda_Stream_Logging">
		<property name="registered" value="true" />
		<property name="context" value="php://stderr" />
	</bean>

	<!-- Simple project: single endpoint, single queue -->

	<bean id="MessageMapper" class="Appenda_Endpoint_Filtering">
		<property name="delegates">
			<props>
				<prop key="{${bundle.account.namespace}getAccountRequest">GetAccountEndpoint</prop>
				<prop key="{${bundle.account.namespace}getContactRequest">GetAccountEndpoint</prop>
			</props>
		</property>
	</bean>

	<!-- Endpoint definitions -->
	<bean id="GetAccountEndpoint" parent="Endpoint" class="Appenda_Bundle_Account_Endpoint_GetAccount" />

	<bean id="GetContactEndpoint" parent="Endpoint" class="Appenda_Bundle_Account_Endpoint_GetContact" />

	<bean id="Endpoint" abstract="true" />

	<!-- Import the DB tables configuration -->
	<import resource="Appenda/Service/Account/DatabaseConfiguration.xml" />
</beans>
